{"id":"opencode-squads-0qc","title":"Move agent/squad controller helpers into contexts","description":"Problem:\n- SquadController and AgentController contain helper logic (with_project/with_squad, preload_agents, and branching create logic for auto vs explicit agent names).\n- This blends domain concerns into the web layer and makes reuse harder.\n\nProposal:\n- Add context helpers such as Squads.list_squads_with_agents/1 and Squads.get_squad_with_agents/1.\n- Add Agents.create_agent_for_squad/2 to encapsulate auto-name vs explicit name/slug creation.\n\nAcceptance:\n- Controllers delegate to context functions and remove local helper branches.\n- Business rules are centralized in Squads and Agents contexts.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T21:54:24.608641+01:00","updated_at":"2025-12-31T22:17:03.87053+01:00","closed_at":"2025-12-31T22:17:03.87053+01:00"}
{"id":"opencode-squads-1zc","title":"Mail API options ignored due to string keys","description":"MailController.index passes params map with string keys to Mail.list_inbox, which reads atom keys (lib/squads/mail.ex:17). limit/urgent_only/since_ts are ignored. MailController.reply passes params to reply_to_message, so importance and ack_required overrides are ignored. Normalize params or accept string keys.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:56:19.448472+01:00","updated_at":"2025-12-31T19:18:49.238609+01:00","closed_at":"2025-12-31T19:18:49.238609+01:00"}
{"id":"opencode-squads-52v","title":"Project \u0026 Squad management UI","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T19:41:31.573726+01:00","updated_at":"2025-12-31T20:03:31.090121+01:00","closed_at":"2025-12-31T20:03:31.090121+01:00"}
{"id":"opencode-squads-52v.10","title":"Redesign /squad route to show squads with nested agents","description":"Frontend: Fix /squad page to display squad groups with their member agents nested inside. Currently shows squads as flat 'members' list which is semantically wrong. Backend: May need endpoint to return squads with preloaded agents.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T19:42:08.344641+01:00","updated_at":"2025-12-31T20:02:39.302016+01:00","closed_at":"2025-12-31T20:02:39.302016+01:00","dependencies":[{"issue_id":"opencode-squads-52v.10","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:08.345185+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-52v.11","title":"Add Agent CRUD API endpoints","description":"Backend: Add AgentController with endpoints to create/update/delete agents within a squad. Agents require squad_id, name (AdjectiveNoun format), and slug.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T19:42:10.062677+01:00","updated_at":"2025-12-31T20:02:40.740234+01:00","closed_at":"2025-12-31T20:02:40.740234+01:00","dependencies":[{"issue_id":"opencode-squads-52v.11","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:10.063209+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-52v.12","title":"Add Agent management UI","description":"Frontend: Add ability to add/remove agents from squads. Show agent status, model, mentor relationships.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T19:42:11.481242+01:00","updated_at":"2025-12-31T20:03:11.230836+01:00","closed_at":"2025-12-31T20:03:11.230836+01:00","dependencies":[{"issue_id":"opencode-squads-52v.12","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:11.481704+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-52v.7","title":"Add project creation UI and mutations","description":"Frontend: Add useCreateProject mutation, project creation modal/form, project selector dropdown. Backend API already exists (POST /api/projects).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T19:42:03.182732+01:00","updated_at":"2025-12-31T20:02:34.664284+01:00","closed_at":"2025-12-31T20:02:34.664284+01:00","dependencies":[{"issue_id":"opencode-squads-52v.7","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:03.183754+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-52v.8","title":"Add Squad CRUD API endpoints","description":"Backend: Add SquadController with POST /api/projects/:id/squads (create), PATCH /api/squads/:id (update), DELETE /api/squads/:id (delete). Context functions already exist.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T19:42:05.151649+01:00","updated_at":"2025-12-31T20:21:10.208704+01:00","closed_at":"2025-12-31T20:21:10.208704+01:00","dependencies":[{"issue_id":"opencode-squads-52v.8","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:05.1521+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-52v.9","title":"Add Squad creation UI and mutations","description":"Frontend: Add useCreateSquad/useUpdateSquad/useDeleteSquad mutations, squad creation form. Depends on Squad CRUD API.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T19:42:06.808919+01:00","updated_at":"2025-12-31T20:02:37.87237+01:00","closed_at":"2025-12-31T20:02:37.87237+01:00","dependencies":[{"issue_id":"opencode-squads-52v.9","depends_on_id":"opencode-squads-52v","type":"parent-child","created_at":"2025-12-31T19:42:06.809434+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr","title":"Beads integration + ticket sync","description":"bd CLI adapter, ticket mirror, assignment endpoints, board API","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T11:16:32.793794+01:00","updated_at":"2025-12-31T14:35:56.064708+01:00","closed_at":"2025-12-31T14:35:56.064708+01:00","dependencies":[{"issue_id":"opencode-squads-5mr","depends_on_id":"opencode-squads-w37","type":"blocks","created_at":"2025-12-31T11:30:17.838006+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.1","title":"CLI adapter for bd commands with --json parsing","description":"Wrapper to call bd ready/list/show/update/close/create and parse JSON","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:50.875742+01:00","updated_at":"2025-12-31T14:13:59.520486+01:00","closed_at":"2025-12-31T14:13:59.520486+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.1","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:19:50.876196+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.1","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:32:06.399831+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.2","title":"Ticket mirror schema + mapping","description":"Store Beads ID, status, assignee, deps mirror in Squads DB","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:56.057819+01:00","updated_at":"2025-12-31T14:21:50.907171+01:00","closed_at":"2025-12-31T14:21:50.907171+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.2","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:19:56.058796+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.2","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:32:38.489544+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.3","title":"Ticket list/ready/board API endpoints","description":"Expose ready/in-progress/blocked queries for UI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:01.233165+01:00","updated_at":"2025-12-31T14:25:38.091896+01:00","closed_at":"2025-12-31T14:25:38.091896+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.3","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:20:01.23373+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.3","depends_on_id":"opencode-squads-5mr.1","type":"blocks","created_at":"2025-12-31T11:32:43.656581+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.3","depends_on_id":"opencode-squads-5mr.2","type":"blocks","created_at":"2025-12-31T11:32:48.840538+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.4","title":"Assignment workflow: claim/unclaim/update status","description":"Map agent assignment to bd update --status/--assignee","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:06.417666+01:00","updated_at":"2025-12-31T14:28:35.740744+01:00","closed_at":"2025-12-31T14:28:35.740744+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.4","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:20:06.418174+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.4","depends_on_id":"opencode-squads-5mr.3","type":"blocks","created_at":"2025-12-31T11:32:54.014794+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.5","title":"Ticket creation/close flow from UI","description":"Create and close tickets through backend API","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T11:20:11.608442+01:00","updated_at":"2025-12-31T14:30:18.559909+01:00","closed_at":"2025-12-31T14:30:18.559909+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.5","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:20:11.608993+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.5","depends_on_id":"opencode-squads-5mr.3","type":"blocks","created_at":"2025-12-31T11:32:59.175764+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5mr.6","title":"Link tickets to mail threads + sessions","description":"Use Beads ID as thread key and session context","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T11:20:16.793045+01:00","updated_at":"2025-12-31T14:35:45.941953+01:00","closed_at":"2025-12-31T14:35:45.941953+01:00","dependencies":[{"issue_id":"opencode-squads-5mr.6","depends_on_id":"opencode-squads-5mr","type":"parent-child","created_at":"2025-12-31T11:20:16.793502+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.6","depends_on_id":"opencode-squads-5mr.2","type":"blocks","created_at":"2025-12-31T11:33:04.344493+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-5mr.6","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:33:09.521897+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-5qy","title":"Fix SSE ingester ref tracking","description":"In lib/squads/opencode/event_ingester.ex:60 Req.get returns a response ref, but start_sse_stream stores make_ref instead. handle_info only matches the stored ref, so incoming SSE chunks never get parsed. Use response.ref (or return it from Req.get) for tracking.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:55:43.146594+01:00","updated_at":"2025-12-31T18:01:45.651182+01:00","closed_at":"2025-12-31T18:01:45.651182+01:00"}
{"id":"opencode-squads-779","title":"Implement /squads-status and /squads-tickets commands","description":"","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-31T21:18:30.176604+01:00","updated_at":"2025-12-31T21:18:30.176604+01:00","dependencies":[{"issue_id":"opencode-squads-779","depends_on_id":"opencode-squads-gwm","type":"blocks","created_at":"2025-12-31T21:18:30.177467+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug","title":"Mail MCP (DB-only) + reservations","description":"In-house mail tools, inbox/thread/search/ack, file reservations, event hooks","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-31T11:16:41.250523+01:00","updated_at":"2025-12-31T15:17:37.077608+01:00","closed_at":"2025-12-31T15:17:37.077608+01:00","dependencies":[{"issue_id":"opencode-squads-7ug","depends_on_id":"opencode-squads-w37","type":"blocks","created_at":"2025-12-31T11:30:22.999847+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.1","title":"Mail DB schema (message, recipient, thread, ack/read)","description":"Ecto schemas/migrations for mail messages, recipients, threads","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:32.228113+01:00","updated_at":"2025-12-31T15:08:34.034898+01:00","closed_at":"2025-12-31T15:08:34.034898+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.1","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:32.228565+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.1","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:33:14.677905+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.2","title":"Mail API: send/inbox/thread/search/ack","description":"REST/MCP endpoints for mailbox operations","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:37.415341+01:00","updated_at":"2025-12-31T15:16:22.20875+01:00","closed_at":"2025-12-31T15:16:22.20875+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.2","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:37.415809+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.2","depends_on_id":"opencode-squads-7ug.1","type":"blocks","created_at":"2025-12-31T11:33:19.857447+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.3","title":"File reservations: schema + reserve/release/list","description":"Advisory reservations with TTL and conflict detection","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:42.607245+01:00","updated_at":"2025-12-31T15:17:30.108388+01:00","closed_at":"2025-12-31T15:17:30.108388+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.3","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:42.607705+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.3","depends_on_id":"opencode-squads-7ug.1","type":"blocks","created_at":"2025-12-31T11:33:25.025171+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.4","title":"Mentor routing + escalation handling","description":"Route junior questions to mentor, support escalation","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-31T11:20:47.797269+01:00","updated_at":"2025-12-31T11:20:47.797269+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.4","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:47.797777+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.4","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:33:30.214231+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.4","depends_on_id":"opencode-squads-w37.5","type":"blocks","created_at":"2025-12-31T11:33:35.399688+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.5","title":"Mail events into unified SSE stream","description":"Emit mail/reservation events for UI updates","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:20:52.982748+01:00","updated_at":"2025-12-31T17:09:02.821694+01:00","closed_at":"2025-12-31T17:09:02.821694+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.5","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:52.983259+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.5","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:33:40.575436+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-7ug.6","title":"Add OpenCode /check-mail command definition","description":"Custom command to check inbox manually in OpenCode","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-31T11:20:58.170771+01:00","updated_at":"2025-12-31T11:20:58.170771+01:00","dependencies":[{"issue_id":"opencode-squads-7ug.6","depends_on_id":"opencode-squads-7ug","type":"parent-child","created_at":"2025-12-31T11:20:58.171265+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-7ug.6","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:33:45.738481+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803","title":"Frontend UI (Vite + React + TUI theme)","description":"Vite+React in Phoenix assets, TanStack stack, TUI styling, live SSE dashboards","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-31T11:16:58.127346+01:00","updated_at":"2025-12-31T11:36:09.845739+01:00","dependencies":[{"issue_id":"opencode-squads-803","depends_on_id":"opencode-squads-w37","type":"blocks","created_at":"2025-12-31T11:30:33.331874+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.1","title":"Vite + React + Tailwind setup + TUI theme tokens","description":"Bootstrap Vite+React in Phoenix assets, Tailwind config, TUI palette/typography (no esbuild)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:21:56.079715+01:00","updated_at":"2025-12-31T12:02:05.564709+01:00","closed_at":"2025-12-31T12:02:05.564709+01:00","dependencies":[{"issue_id":"opencode-squads-803.1","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:21:56.080186+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.1","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:34:42.603102+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.12","title":"Fix Vite helper function signature in root layout","description":"root.html.heex calls SquadsWeb.Vite.vite_assets(%{}) but the function is defined as vite_assets/0. Either update the layout to call vite_assets() or update the Vite module to accept a map argument.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-31T12:10:22.166142+01:00","updated_at":"2025-12-31T13:33:55.000986+01:00","closed_at":"2025-12-31T13:33:55.000986+01:00","dependencies":[{"issue_id":"opencode-squads-803.12","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T12:10:22.167273+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.2","title":"App shell + navigation (TanStack Router)","description":"Layout, navigation, and route structure","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:01.2621+01:00","updated_at":"2025-12-31T12:05:51.943983+01:00","closed_at":"2025-12-31T12:05:51.943983+01:00","dependencies":[{"issue_id":"opencode-squads-803.2","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:01.262644+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.2","depends_on_id":"opencode-squads-803.1","type":"blocks","created_at":"2025-12-31T11:34:47.761783+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.21","title":"Implement unified notification/toast system (TUI style)","description":"A system-wide toast notification system using the terminal aesthetic for SSE event alerts","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T14:18:59.152948+01:00","updated_at":"2025-12-31T14:20:40.388593+01:00","closed_at":"2025-12-31T14:20:40.388593+01:00","dependencies":[{"issue_id":"opencode-squads-803.21","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T14:18:59.153876+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.22","title":"Mail UI: Integrated mailbox and thread view","description":"Complete the mail route with a functional inbox, thread list, and message reading interface using real API hooks","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T14:19:04.296268+01:00","updated_at":"2025-12-31T14:27:33.084504+01:00","closed_at":"2025-12-31T14:27:33.084504+01:00","dependencies":[{"issue_id":"opencode-squads-803.22","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T14:19:04.29693+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.23","title":"Review Queue: Master-detail implementation","description":"Implement the review queue UI with side-by-side diff viewing and approval actions","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T14:19:09.442326+01:00","updated_at":"2025-12-31T17:59:30.206427+01:00","closed_at":"2025-12-31T17:59:30.206427+01:00","dependencies":[{"issue_id":"opencode-squads-803.23","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T14:19:09.443381+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.24","title":"Ticket Board: Interactive status updates","description":"Add ability to update ticket status via the UI using the useUpdateTicket mutation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T14:19:14.601978+01:00","updated_at":"2025-12-31T17:52:19.134596+01:00","closed_at":"2025-12-31T17:52:19.134596+01:00","dependencies":[{"issue_id":"opencode-squads-803.24","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T14:19:14.603029+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.27","title":"Implement Graphical Dependency Map (React Flow)","description":"Add a visual dependency map of tickets using React Flow to visualize relationships and blockers","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-31T17:45:27.942225+01:00","updated_at":"2025-12-31T17:52:24.273524+01:00","closed_at":"2025-12-31T17:52:24.273524+01:00","dependencies":[{"issue_id":"opencode-squads-803.27","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T17:45:27.946401+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.3","title":"Data layer: TanStack Query + API client","description":"API hooks, caching, error handling","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:06.445819+01:00","updated_at":"2025-12-31T12:06:45.678848+01:00","closed_at":"2025-12-31T12:06:45.678848+01:00","dependencies":[{"issue_id":"opencode-squads-803.3","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:06.446288+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.3","depends_on_id":"opencode-squads-803.1","type":"blocks","created_at":"2025-12-31T11:34:52.93872+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.3","depends_on_id":"opencode-squads-w37.8","type":"blocks","created_at":"2025-12-31T11:34:58.120187+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.4","title":"SSE client + live state updates","description":"Subscribe to backend event stream and patch caches","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:11.637423+01:00","updated_at":"2025-12-31T14:13:26.466177+01:00","closed_at":"2025-12-31T14:13:26.466177+01:00","dependencies":[{"issue_id":"opencode-squads-803.4","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:11.637878+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.4","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:03.288874+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.5","title":"Squad overview page","description":"Member list, role/status, current ticket/session","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:16.822319+01:00","updated_at":"2025-12-31T12:07:42.881933+01:00","closed_at":"2025-12-31T12:07:42.881933+01:00","dependencies":[{"issue_id":"opencode-squads-803.5","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:16.822812+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.5","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:08.462542+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.6","title":"Agent detail page (session logs + inbox + worktree)","description":"Agent status, logs, inbox, worktree view","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:22.009276+01:00","updated_at":"2025-12-31T14:14:50.313284+01:00","closed_at":"2025-12-31T14:14:50.313284+01:00","dependencies":[{"issue_id":"opencode-squads-803.6","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:22.009777+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.6","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:13.635685+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.7","title":"Ticket board page","description":"Ready/in-progress/blocked view with Beads IDs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:27.192827+01:00","updated_at":"2025-12-31T14:13:00.984777+01:00","closed_at":"2025-12-31T14:13:00.984777+01:00","dependencies":[{"issue_id":"opencode-squads-803.7","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:27.193311+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.7","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:18.800973+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.7","depends_on_id":"opencode-squads-5mr.3","type":"blocks","created_at":"2025-12-31T11:35:23.960353+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.8","title":"Review queue page","description":"PR summaries, approve/request changes actions","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:32.373563+01:00","updated_at":"2025-12-31T14:00:48.724771+01:00","closed_at":"2025-12-31T14:00:48.724771+01:00","dependencies":[{"issue_id":"opencode-squads-803.8","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:32.374056+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.8","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:29.123777+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.8","depends_on_id":"opencode-squads-hrj.3","type":"blocks","created_at":"2025-12-31T11:35:34.291695+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.8","depends_on_id":"opencode-squads-hrj.4","type":"blocks","created_at":"2025-12-31T11:35:39.461522+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-803.9","title":"Mail UI components (inbox/thread/compose)","description":"Thread list, message view, compose modal","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:22:37.55852+01:00","updated_at":"2025-12-31T14:03:04.343513+01:00","closed_at":"2025-12-31T14:03:04.343513+01:00","dependencies":[{"issue_id":"opencode-squads-803.9","depends_on_id":"opencode-squads-803","type":"parent-child","created_at":"2025-12-31T11:22:37.559023+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.9","depends_on_id":"opencode-squads-803.3","type":"blocks","created_at":"2025-12-31T11:35:44.633735+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-803.9","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:35:49.808355+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-823","title":"Mail cc/bcc recipient_type lost","description":"send_message in lib/squads/mail.ex:114 builds recipients from to/cc/bcc but ids are inserted without recipient_type, so cc/bcc recipients are stored as to (default in lib/squads/mail/recipient.ex:14). Set recipient_type by list or require map with type.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:56:14.256424+01:00","updated_at":"2025-12-31T18:05:53.117536+01:00","closed_at":"2025-12-31T18:05:53.117536+01:00"}
{"id":"opencode-squads-864","title":"Reservation overlap ignores glob semantics","description":"patterns_overlap? in lib/squads/reservations.ex:117 uses String.contains which ignores glob semantics, so overlaps like src/**/*.ex vs src/foo.ex are missed and conflicting reservations can pass. Use fnmatch or Path.wildcard matching.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:56:03.882556+01:00","updated_at":"2025-12-31T18:05:42.838794+01:00","closed_at":"2025-12-31T18:05:42.838794+01:00"}
{"id":"opencode-squads-9qn","title":"Add escalation support to agent_mail MCP","description":"","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-31T21:20:34.481425+01:00","updated_at":"2025-12-31T21:20:34.481425+01:00","dependencies":[{"issue_id":"opencode-squads-9qn","depends_on_id":"opencode-squads-zcp","type":"blocks","created_at":"2025-12-31T21:20:34.482681+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-awp","title":"Frontend: Ticket Board filter by status/assignee","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T18:51:38.173332+01:00","updated_at":"2025-12-31T18:53:12.855674+01:00","closed_at":"2025-12-31T18:53:12.855674+01:00","dependencies":[{"issue_id":"opencode-squads-awp","depends_on_id":"opencode-squads-803.7","type":"discovered-from","created_at":"2025-12-31T18:51:38.174177+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-b9x","title":"Worktree creation assumes master","description":"create_worktree in lib/squads/worktrees.ex:34 always uses master as base branch, which fails on repos whose default branch is main or custom. Detect default branch or accept it as config.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:56:09.077027+01:00","updated_at":"2025-12-31T18:05:47.975646+01:00","closed_at":"2025-12-31T18:05:47.975646+01:00"}
{"id":"opencode-squads-boj","title":"JSONC comment stripping breaks URLs","description":"strip_jsonc_comments in lib/squads/opencode/config.ex:315 removes // sequences inside string values, so urls like http://localhost get truncated and JSON parse fails. Use a JSONC parser or a comment stripper that skips strings.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:55:58.687102+01:00","updated_at":"2025-12-31T18:05:37.697133+01:00","closed_at":"2025-12-31T18:05:37.697133+01:00"}
{"id":"opencode-squads-dwm","title":"Frontend: Add SSE connection status indicator to TopBar","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-31T18:51:33.015201+01:00","updated_at":"2025-12-31T18:53:02.563109+01:00","closed_at":"2025-12-31T18:53:02.563109+01:00","dependencies":[{"issue_id":"opencode-squads-dwm","depends_on_id":"opencode-squads-803.4","type":"discovered-from","created_at":"2025-12-31T18:51:33.016067+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc","title":"OpenCode integration + session orchestration","description":"HTTP client, session lifecycle, SSE ingestion, model/provider discovery","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T11:16:23.923764+01:00","updated_at":"2025-12-31T14:12:21.713703+01:00","closed_at":"2025-12-31T14:12:21.713703+01:00","dependencies":[{"issue_id":"opencode-squads-grc","depends_on_id":"opencode-squads-w37","type":"blocks","created_at":"2025-12-31T11:30:12.67504+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.1","title":"Implement OpenCode HTTP client wrapper","description":"HTTP client for OpenCode server, base URL, headers, retries","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T11:19:09.610928+01:00","updated_at":"2025-12-31T13:37:55.574696+01:00","closed_at":"2025-12-31T13:37:55.574696+01:00","dependencies":[{"issue_id":"opencode-squads-grc.1","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:09.611422+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.1","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:31:19.845714+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.2","title":"Session lifecycle endpoints (create/list/stop)","description":"API to start, list, stop sessions mapped to agents","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T11:19:14.809858+01:00","updated_at":"2025-12-31T13:46:26.047997+01:00","closed_at":"2025-12-31T13:46:26.047997+01:00","dependencies":[{"issue_id":"opencode-squads-grc.2","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:14.810722+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.2","depends_on_id":"opencode-squads-grc.1","type":"blocks","created_at":"2025-12-31T11:31:25.016214+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.2","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:31:30.181564+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.3","title":"SSE ingestion for session + global events","description":"Subscribe to /event and /session/:id/event, persist logs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:20.006966+01:00","updated_at":"2025-12-31T13:57:10.316125+01:00","closed_at":"2025-12-31T13:57:10.316125+01:00","dependencies":[{"issue_id":"opencode-squads-grc.3","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:20.007528+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.3","depends_on_id":"opencode-squads-grc.1","type":"blocks","created_at":"2025-12-31T11:31:35.356062+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.3","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:31:40.532745+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.4","title":"Model/provider discovery via server endpoints","description":"Call /config, /config/providers, /provider and store snapshot","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:25.192375+01:00","updated_at":"2025-12-31T14:01:54.815429+01:00","closed_at":"2025-12-31T14:01:54.815429+01:00","dependencies":[{"issue_id":"opencode-squads-grc.4","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:25.192835+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.4","depends_on_id":"opencode-squads-grc.1","type":"blocks","created_at":"2025-12-31T11:31:45.711755+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.5","title":"Config fallback: parse OpenCode config files + env","description":"Merge global + project config and env overrides when server not reachable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:30.369133+01:00","updated_at":"2025-12-31T14:08:16.700863+01:00","closed_at":"2025-12-31T14:08:16.700863+01:00","dependencies":[{"issue_id":"opencode-squads-grc.5","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:30.369642+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.5","depends_on_id":"opencode-squads-grc.1","type":"blocks","created_at":"2025-12-31T11:31:50.880411+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-grc.6","title":"Dispatch commands/messages to sessions","description":"Send prompts/commands to OpenCode sessions via HTTP","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:19:35.554459+01:00","updated_at":"2025-12-31T14:12:01.272944+01:00","closed_at":"2025-12-31T14:12:01.272944+01:00","dependencies":[{"issue_id":"opencode-squads-grc.6","depends_on_id":"opencode-squads-grc","type":"parent-child","created_at":"2025-12-31T11:19:35.554965+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.6","depends_on_id":"opencode-squads-grc.1","type":"blocks","created_at":"2025-12-31T11:31:56.047423+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-grc.6","depends_on_id":"opencode-squads-grc.2","type":"blocks","created_at":"2025-12-31T11:32:01.228216+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-gwm","title":"Add OpenCode config creation/init for projects","description":"","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-31T20:31:20.124949+01:00","updated_at":"2025-12-31T20:34:31.378059+01:00","closed_at":"2025-12-31T20:34:31.378059+01:00"}
{"id":"opencode-squads-h4i","title":"Event kinds mapping drops status/tool events","description":"EventIngester maps session.updated to session.status_changed and tool.start/end to session.tool_started/session.tool_completed (lib/squads/opencode/event_ingester.ex:38-85). These kinds are not in Squads.Events.Event.kinds (lib/squads/events/event.ex:18), so persist_event skips them. Add kinds or map to existing ones.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:55:48.323842+01:00","updated_at":"2025-12-31T18:05:32.552084+01:00","closed_at":"2025-12-31T18:05:32.552084+01:00"}
{"id":"opencode-squads-h8j","title":"Extract SSE stream loop from EventController","description":"Problem:\n- EventController owns SSE handshake, chunk formatting, and the receive loop.\n- Streaming behavior is harder to test and reuse when embedded in the controller.\n\nProposal:\n- Introduce a dedicated module (SquadsWeb.EventStream or Squads.Events.Streamer) that manages stream setup, event formatting, ping, and the receive loop.\n- EventController.stream delegates to that module.\n\nAcceptance:\n- Controller contains minimal wiring only.\n- Streaming logic is centralized and testable in one module.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T21:54:19.449454+01:00","updated_at":"2025-12-31T22:16:17.608024+01:00","closed_at":"2025-12-31T22:16:17.608024+01:00"}
{"id":"opencode-squads-hct","title":"Frontend app not loading at localhost:4000 (empty page)","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-31T17:59:22.770677+01:00","updated_at":"2025-12-31T18:00:00.792022+01:00","closed_at":"2025-12-31T18:00:00.792022+01:00"}
{"id":"opencode-squads-hrj","title":"Worktrees + review workflow","description":"Worktree creation, branch naming, PR summary artifact, review states","status":"open","priority":2,"issue_type":"epic","created_at":"2025-12-31T11:16:49.507064+01:00","updated_at":"2025-12-31T11:16:49.507064+01:00","dependencies":[{"issue_id":"opencode-squads-hrj","depends_on_id":"opencode-squads-w37","type":"blocks","created_at":"2025-12-31T11:30:28.16255+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.1","title":"Worktree manager with agent-ticket naming","description":"Create/list/remove worktrees named \u003cagent-slug\u003e-\u003cticket-key\u003e","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:21:12.53986+01:00","updated_at":"2025-12-31T17:09:15.399898+01:00","closed_at":"2025-12-31T17:09:15.399898+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.1","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:12.540698+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.1","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:33:50.904065+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.2","title":"Branch naming + base branch main","description":"Ensure branches use naming scheme and default to main","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:21:17.749958+01:00","updated_at":"2025-12-31T20:25:44.613786+01:00","closed_at":"2025-12-31T20:25:44.613786+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.2","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:17.750458+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.2","depends_on_id":"opencode-squads-hrj.1","type":"blocks","created_at":"2025-12-31T11:33:56.08155+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.3","title":"PR summary artifact generation","description":"Generate diff summary + tests run for review","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-31T11:21:22.932565+01:00","updated_at":"2025-12-31T11:21:22.932565+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.3","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:22.9334+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.3","depends_on_id":"opencode-squads-hrj.1","type":"blocks","created_at":"2025-12-31T11:34:01.243753+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.4","title":"Review workflow states + reviewer assignment","description":"pending/in_review/approved/changes_requested with mentor mapping","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:21:28.131316+01:00","updated_at":"2025-12-31T19:29:53.387774+01:00","closed_at":"2025-12-31T19:29:53.387774+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.4","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:28.132151+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.4","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:34:06.414909+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.5","title":"Review notifications via mail","description":"Send review requests and outcomes to inbox","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-31T11:21:33.317816+01:00","updated_at":"2025-12-31T11:21:33.317816+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.5","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:33.318313+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.5","depends_on_id":"opencode-squads-hrj.4","type":"blocks","created_at":"2025-12-31T11:34:11.591099+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.5","depends_on_id":"opencode-squads-7ug.2","type":"blocks","created_at":"2025-12-31T11:34:16.762652+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-hrj.6","title":"Merge flow + worktree cleanup","description":"Manual merge support and remove worktrees after approval","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-31T11:21:38.500046+01:00","updated_at":"2025-12-31T11:21:38.500046+01:00","dependencies":[{"issue_id":"opencode-squads-hrj.6","depends_on_id":"opencode-squads-hrj","type":"parent-child","created_at":"2025-12-31T11:21:38.500496+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.6","depends_on_id":"opencode-squads-hrj.1","type":"blocks","created_at":"2025-12-31T11:34:21.93861+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-hrj.6","depends_on_id":"opencode-squads-hrj.4","type":"blocks","created_at":"2025-12-31T11:34:27.103593+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-jrc","title":"Move ticket board and sync orchestration into Tickets context","description":"Problem:\n- TicketController.board and TicketController.sync orchestrate multiple context calls and assemble response summaries.\n- This is domain logic living in the web layer and is harder to test.\n\nProposal:\n- Add Tickets.board_summary(project_id) to return grouped ticket lists (ready/in_progress/blocked/closed).\n- Add Tickets.sync_all(project_id) to run sync_from_beads plus sync_dependencies and return a summary map.\n\nAcceptance:\n- TicketController delegates to context functions and only renders results.\n- Board and sync logic is consolidated and unit-testable in Squads.Tickets.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T21:54:14.250577+01:00","updated_at":"2025-12-31T22:15:47.243097+01:00","closed_at":"2025-12-31T22:15:47.243097+01:00"}
{"id":"opencode-squads-k2v","title":"Refactor SessionController OpenCode error responses","description":"Problem:\n- SessionController repeats mapping of OpenCode failures to HTTP 502 responses and JSON payloads across start/stop/messages/diff/todos/prompt/command/shell endpoints.\n- Duplication makes it easy for response shapes or status codes to drift.\n\nProposal:\n- Introduce a shared helper (FallbackController clause or SquadsWeb.API.ErrorResponses) that renders opencode_error responses.\n- Replace repeated {:error, {:opencode_error, reason}} branches with the helper call.\n\nAcceptance:\n- All session endpoints return a consistent opencode_error payload and status.\n- SessionController no longer contains duplicated opencode_error branches.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-31T21:54:03.902096+01:00","updated_at":"2025-12-31T21:54:03.902096+01:00"}
{"id":"opencode-squads-obn","title":"Centralize session params normalization","description":"Problem:\n- SessionController.create and SessionController.start build nearly identical attrs maps (agent_id, ticket_key, worktree_path, branch, metadata, title).\n- Duplicated mapping invites missing fields or inconsistent defaults as the schema evolves.\n\nProposal:\n- Add a single params normalizer (Sessions.build_attrs/1 or SquadsWeb.API.SessionParams.normalize/1).\n- Use the helper in create/start and any related endpoints that construct session attrs.\n\nAcceptance:\n- Attr mapping lives in one place with shared defaults (metadata fallback, optional title).\n- Controller actions call the helper and contain minimal param logic.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T21:54:09.073981+01:00","updated_at":"2025-12-31T22:15:15.974562+01:00","closed_at":"2025-12-31T22:15:15.974562+01:00"}
{"id":"opencode-squads-ois","title":"Frontend: Enhance Review Queue diff navigation","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T18:51:27.860139+01:00","updated_at":"2025-12-31T18:53:07.721395+01:00","closed_at":"2025-12-31T18:53:07.721395+01:00","dependencies":[{"issue_id":"opencode-squads-ois","depends_on_id":"opencode-squads-803.23","type":"discovered-from","created_at":"2025-12-31T18:51:27.861775+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-rni","title":"OpenCode client 204 handling unreachable","description":"handle_response in lib/squads/opencode/client.ex:335 matches status 200..299 before the 204 clause, so 204 never returns true as documented. Move 204 clause above or narrow the range to exclude 204.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T17:55:53.503628+01:00","updated_at":"2025-12-31T18:03:18.588465+01:00","closed_at":"2025-12-31T18:03:18.588465+01:00"}
{"id":"opencode-squads-s4s","title":"Integrate Frontend with Backend APIs","description":"Replace mock data in React components with real data from Phoenix APIs using TanStack Query. Targets: Dashboard, Squad Roster, and Agent Details.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T14:05:17.01204+01:00","updated_at":"2025-12-31T14:08:52.134518+01:00","closed_at":"2025-12-31T14:08:52.134518+01:00","dependencies":[{"issue_id":"opencode-squads-s4s","depends_on_id":"opencode-squads-803","type":"blocks","created_at":"2025-12-31T14:05:17.013531+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37","title":"Backend foundation + project config","description":"Phoenix app, SQLite, core schemas, .squads/config.json, agent naming generator, Vite asset pipeline + dev bind","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-31T11:16:13.268837+01:00","updated_at":"2025-12-31T13:33:24.070253+01:00","closed_at":"2025-12-31T13:33:24.070253+01:00"}
{"id":"opencode-squads-w37.10","title":"Bind dev servers to 0.0.0.0 (Phoenix + Vite)","description":"Configure Phoenix and Vite dev servers to bind 0.0.0.0 for LAN access","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:29:18.519653+01:00","updated_at":"2025-12-31T12:04:40.915012+01:00","closed_at":"2025-12-31T12:04:40.915012+01:00","dependencies":[{"issue_id":"opencode-squads-w37.10","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:29:18.520145+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.10","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:31:14.674638+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.3","title":"Scaffold Phoenix app + SQLite config","description":"Create Phoenix project, configure SQLite for dev/test, baseline app structure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T11:18:28.556736+01:00","updated_at":"2025-12-31T11:48:47.929548+01:00","closed_at":"2025-12-31T11:48:47.929548+01:00","dependencies":[{"issue_id":"opencode-squads-w37.3","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:28.557197+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.4","title":"Define core schemas: Project, Squad, Agent, Session, Event","description":"Ecto schemas and migrations for core entities and event log","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T11:18:33.74191+01:00","updated_at":"2025-12-31T11:59:41.796673+01:00","closed_at":"2025-12-31T11:59:41.796673+01:00","dependencies":[{"issue_id":"opencode-squads-w37.4","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:33.742949+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.4","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:30:38.506925+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.5","title":"Implement .squads/config.json schema + validation","description":"Define JSON schema, validation, and load/save helpers","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:18:38.929583+01:00","updated_at":"2025-12-31T12:02:52.486918+01:00","closed_at":"2025-12-31T12:02:52.486918+01:00","dependencies":[{"issue_id":"opencode-squads-w37.5","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:38.930043+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.5","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:30:43.678551+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.6","title":"Bootstrap project init to create .squads/","description":"Init flow creates .squads directory and default config.json","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:18:44.122142+01:00","updated_at":"2025-12-31T12:06:20.976224+01:00","closed_at":"2025-12-31T12:06:20.976224+01:00","dependencies":[{"issue_id":"opencode-squads-w37.6","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:44.122662+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.6","depends_on_id":"opencode-squads-w37.5","type":"blocks","created_at":"2025-12-31T11:30:48.838126+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.7","title":"Implement agent naming generator (100x100 lists) + slugging","description":"Curated adjective/noun lists, CamelCase names, slug derivation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:18:49.302547+01:00","updated_at":"2025-12-31T12:04:19.612078+01:00","closed_at":"2025-12-31T12:04:19.612078+01:00","dependencies":[{"issue_id":"opencode-squads-w37.7","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:49.303028+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.7","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:30:54.009936+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.8","title":"Add base API endpoints for project/squad metadata","description":"REST endpoints to read project and squad config for UI","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:18:54.489903+01:00","updated_at":"2025-12-31T12:08:26.586738+01:00","closed_at":"2025-12-31T12:08:26.586738+01:00","dependencies":[{"issue_id":"opencode-squads-w37.8","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:18:54.490641+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.8","depends_on_id":"opencode-squads-w37.4","type":"blocks","created_at":"2025-12-31T11:30:59.179436+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.8","depends_on_id":"opencode-squads-w37.5","type":"blocks","created_at":"2025-12-31T11:31:04.337853+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-w37.9","title":"Configure Phoenix assets to use Vite (disable esbuild)","description":"Replace esbuild pipeline with Vite integration for assets","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-31T11:29:13.338189+01:00","updated_at":"2025-12-31T12:02:22.940386+01:00","closed_at":"2025-12-31T12:02:22.940386+01:00","dependencies":[{"issue_id":"opencode-squads-w37.9","depends_on_id":"opencode-squads-w37","type":"parent-child","created_at":"2025-12-31T11:29:13.338711+01:00","created_by":"simonthornqvist"},{"issue_id":"opencode-squads-w37.9","depends_on_id":"opencode-squads-w37.3","type":"blocks","created_at":"2025-12-31T11:31:09.498844+01:00","created_by":"simonthornqvist"}]}
{"id":"opencode-squads-xnl","title":"Fix failing test suite (41 failures)","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-31T19:30:30.506424+01:00","updated_at":"2025-12-31T19:42:11.578734+01:00","closed_at":"2025-12-31T19:42:11.578734+01:00"}
{"id":"opencode-squads-zcp","title":"Implement /mcps/:mcp builtin MCP endpoints","description":"","status":"open","priority":1,"issue_type":"feature","created_at":"2025-12-31T21:18:29.694202+01:00","updated_at":"2025-12-31T21:18:29.694202+01:00","dependencies":[{"issue_id":"opencode-squads-zcp","depends_on_id":"opencode-squads-gwm","type":"blocks","created_at":"2025-12-31T21:18:29.695429+01:00","created_by":"simonthornqvist"}]}
